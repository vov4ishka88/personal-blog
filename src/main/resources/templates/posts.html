<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Posts</title>
    <style>
        /* tiny inline style so you see something */
        .post { border: 1px solid #ccc; padding: 12px; margin: 10px 0; }
        .meta { font-size: 0.9em; color: #666; }
        .tags a { margin-right: 6px; }
    </style>
</head>
<body>
<h1>Posts</h1>

<div th:if="${selectedTag != null}">
    Filtering by tag: <strong th:text="${selectedTag}">tag</strong>
</div>

<div th:each="p : ${posts}" class="post">
    <h2>
        <a th:href="@{|/posts/${p.id}|}" th:text="${p.title}">Title</a>
    </h2>
    <img th:src="${p.imageUrl}" alt="" width="300" height="160"/>
    <p th:text="${p.preview}">Preview text...</p>

    <div class="meta">
        <span>üí¨ <span th:text="${p.commentsCount}">0</span></span>
        &nbsp; | &nbsp;
        <span>‚ù§Ô∏è <span th:text="${p.likes}">0</span></span>
    </div>

    <div class="tags">
      <span th:each="t : ${p.tags}">
        <a th:href="@{|/posts?tag=${t}|}" th:text="${t}">tag</a>
      </span>
    </div>
</div>

<!-- Pagination -->
<div>
    <a th:if="${page > 1}" th:href="@{|/posts?page=${page-1}&size=${size}|}">Prev</a>
    <span th:text="|Page ${page} of ${totalPages}|">Page</span>
    <a th:if="${page < totalPages}" th:href="@{|/posts?page=${page+1}&size=${size}|}">Next</a>
</div>
</body>
</html>
